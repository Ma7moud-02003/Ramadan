<section class="" animate.enter="animate-enter" [ngClass]="{'bg-slate-900 text-white':darkMode()}">


    <nav [ngClass]="{'bg-white text-slate-800':!darkMode(),'bg-slate-800 text-white':darkMode()}"
        class="w-full fixed shadow-lg flex justify-between items-center  px-3 md:px-10 top-0 py-4"
        style="z-index: 1000;">
        <!-- <h2 class=" md:block md:text-2xl md:font-bold">ุงูุณูุงู ุนููู  ูุง <span class="text-sky-600 text-2xl  ">{{userData().userName}}</span></h2> -->

        <div>
            <i class="fa-solid fa-user "></i>
            <i [ngClass]="{'text-yellow-400':darkMode()}" (click)="darkMode.set(!darkMode())"
                class="fa-regular cursor-pointer mx-5 fa-sun hover:scale-110 transition duration-100 hover:text-yellow-400"></i>
        </div>
        <button
            class="bg-0 hover:bg-red-600 hover:text-white rounded-lg  text-red-500  py-2 px-2  transition duration-200"
            (click)="logout()"> <i class="fa-solid text-xl mx-3 fa-right-to-bracket"></i></button>
    </nav>
    <section class="grid grid-cols-1 gap-10 w-full mt-[15%] md:mt-[5%]">
        <div class=" relative  shadow-lg     md:w-3/4  mx-auto mt-5  p-6  rounded-md shadow-d">
            <div class="absolute top-4 hover:scale-150 transition duration-100 cursor-pointer left-4 text-gray-500">
                <i [ngClass]="{'text-yellow-500':!hideAyat()}" (click)="hiddenAyat()" class="fa-solid fa-eye"></i>
            </div>


            <div class="text-center ">
                <p class="my-3">๐ฟุงุณุฃู ุงููู ุฃู ูููุนู ุจูุง ุชุญูุธ ููุซุจุช ููุจู ุนูู ูุชุงุจู <br>
                    ุงุณุชูุงุน -ูุฑุงุกู -ุญูุธ- ุชูุณูุฑ ๐ฟ</p>

                <div class="flex justify-between items-center">
                    <h2 class=""><i class="fa-solid fa-star-and-crescent"></i> ุญูุธ ุงูููู</h2>
                    <p class="mt-5 ">{{surah().name}} - {{surah().numberOfAyahs}}</p>

                </div>

                <div class="flex flex-wrap  mt-4    md:overflow-y-auto md:h-[55vh]    text-center justify-center "
                    style="font-family: 'Amiri Quran', serif; ">
                    @for (aya of dailyAyat(); track aya;let i=$index)
                    {
                    <div [ngClass]="{'text-yellow-500':i==currentReadingAyahIndex()}">
                        <p (click)="playSingleAyah(aya.number,i)"
                            class="aya md:leading-[2.5rem] leading-[2rem]    md:text-2xl my-1   cursor-pointer  transition duration-200"
                            [style.color]="hideAyat() ? 'transparent' : 'inherit'">
                            {{ aya.text }}
                            <span class="ayah-marker">
                                
                                <span class="num">
                                    {{ aya.numberInSurah}}
                                </span>
                            </span>
                        </p>

                    </div>
                    }
                    <div [ngClass]="{'bg-white text-slate-800':!darkMode(),'bg-slate-900 text-white':darkMode()}"
                        class="md:hidden sticky bottom-0 w-full md:static ">
                        <div
                            class=" text-center flex justify-between items-center  mt-1  w-full mx-auto   p-3 rounded-md shadow-d">

                            @if(!play() ){
                            <div>
                                <div tabindex="-1" (click)="playAllAyahs()"
                                    class="icon cursor-pointer transition duration-200">
                                    <i class="fa-solid fa-play"></i>
                                </div>
                                <p>ุชุดุบูู ุงูุตูุช</p>
                            </div>
                            }
                            @else {
                            <div>
                                <div tabindex="-1" (click)="stopPlaying()"
                                    class="icon text-red-600 hover:bg-red-800 cursor-pointer transition duration-200">
                                    <i class="fa-solid fa-stop"></i>
                                </div>
                                <p>ุงููุงู ุงูุตูุช</p>
                            </div>
                            }
                            <div>
                                <div (click)="grtPerviousDay()" tabindex="-1"
                                    class="icon focus:bg-sky-800 cursor-pointer transition hover:scale-105 duration-200 focous:scale-105">
                                    <i tabindex="-1" class="fa-solid fa-chevron-left mx-2 "></i>
                                </div>
                                <p>ุงูููู ุงูุณุงุจู</p>
                            </div>
                        </div>
                        <hr>

                        <div class="w-full   mx-auto py-3 flex justify-between  rounded-md shadow-d px-2">

                            <button
                                class=" py-3 px-3 bg-transparent border border-green-800  md:px-4   my-3  md:w-auto rounded-md md:hover:bg-green-700 transition duration-200"
                                (click)="completed()">ุฅุชูุงู ุงูุญูุธ
                            </button>
                            <button (click)="showTafseer.set(!showTafseer())"
                                class=" py-3 px-3 bg-transparent border border-green-800  md:px-4   my-3  md:w-auto rounded-md md:hover:bg-green-700 transition duration-200">
                                ุงูุชูุณููุฑ
                            </button>

                            <button [ngClass]="{'bg-green-700 text-white':state().inCurrent}"
                                [disabled]="state().inCurrent"
                                class="  bg-transparent border border-green-700  md:w-auto my-3 px-3   py-3   rounded-md md:hover:bg-gray-700 transition duration-200 "
                                (click)="getDailyAyat()"> ุงูุญุงุถุฑ
                            </button>

                            <button [ngClass]="{'bg-red-700 text-white':state().inPervious}"
                                [disabled]="state().inPervious"
                                class=" md:w-auto    my-3 bg-transparent border border-red-700 py-3  px-3   rounded-md md:hover:bg-red-700 transition duration-200"
                                (click)="getThePrvious()">ุงููุงุถู
                            </button>
                        </div>

                    </div>

                </div>

            </div>
        </div>




        <!-- ุงูุฌุฒุก ุงูุซุงูู  -->
        <div class="mt-5  md:top-20 w-full md:w-3/4 mx-auto ">
            <div class="hidden md:block sticky bottom-0 w-full md:static">
                <div
                    class="text-center flex justify-between items-center      w-full mx-auto   p-3 rounded-md shadow-d">

                    @if(!play() ){
                    <div>
                        <div tabindex="-1" (click)="playAllAyahs()"
                            class="icon hover:bg-sky-800 cursor-pointer transition duration-200 focous:scale-105">
                            <i class="fa-solid fa-play"></i>
                        </div>
                        <p>ุชุดุบูู ุงูุตูุช</p>
                    </div>
                    }
                    @else {
                    <div>
                        <div (click)="stopPlaying()"
                            class="icon hover:bg-red-800 cursor-pointer transition duration-200">
                            <i class="fa-solid fa-stop"></i>
                        </div>
                        <p>ุงููุงู ุงูุตูุช</p>
                    </div>
                    }
                    <div>
                        <div (click)="grtPerviousDay()" tabindex="-1"
                            class="icon focus:bg-sky-800 cursor-pointer transition hover:scale-105 duration-200 focous:scale-105">
                            <i tabindex="-1" class="fa-solid fa-chevron-left mx-2 "></i>
                        </div>
                        <p>ุงูููู ุงูุณุงุจู</p>
                    </div>
                </div>
                <hr>

                <div class="w-full   mx-auto py-3 flex justify-between  rounded-md shadow-d px-2">

                    <button
                        class=" py-3 px-10 bg-transparent border border-green-800  md:px-4   my-3  md:w-auto rounded-md hover:bg-green-700 transition duration-200"
                        (click)="completed()">ุฅุชูุงู ุงูุญูุธ

                    </button>
                    <button [disabled]="state().inCurrent"
                        class="bg-transparent border border-sky-300  md:w-auto my-3 px-10    py-3   rounded-md hover:bg-gray-700 transition duration-200 "
                        (click)="getDailyAyat()"> ุงูุญุงุถุฑ
                        <i class="fa-solid fa-arrow-up mx-1"></i>
                    </button>

                    <button
                        class="bg-transparent border border-sky-300  md:w-auto my-3 px-10    py-3   rounded-md hover:bg-gray-700 transition duration-200 "
                        (click)="showTafseer.set(!showTafseer())"> ุงูููุณููุฑ
                        <i class="fa-solid fa-pen mx-1"></i>
                    </button>

                    <button [disabled]="state().inPervious"
                        class=" my-3    bg-transparent border border-red-800 py-3  px-10   rounded-md hover:bg-red-700 transition duration-200"
                        (click)="getThePrvious()">ุงููุงุถู
                        <i class="fa-solid fa-arrow-left mx-1"></i>
                    </button>
                </div>

            </div>

            <hr>
            @if(showTafseer())
            {
            <div class="  py-4    h-auto" style="overflow-y: auto;">
                <h2 class="text-center text-3xl font-bold text-sky-900">ุงูุชูุณูุฑ ุงููููู</h2>
                @for(taya of dailyTafseer();track taya;let i=$index)
                {
                <div class="p-3">
                    <p>{{i+1}}-{{taya.text}}</p>
                </div>
                }
            </div>
            }


        </div>


    </section>


</section>

@if(showAlert())
{
<div animate.enter="animate-enter"
    class="flex justify-center items-center fixed top-10 rounded-lg left-[10%] md:left-[35%] h-48 py-4 px-5 shadow-lg bg-white text-center w-[80%] md:w-[30%]"
    style="z-index: 900000000000;">
    <p class="leading-6 font-bold">{{alertMessage()}}</p>
</div>


}